<!DOCTYPE html>
<html lang="zxx">

<head>
	<title>Packing Kings | Register </title>
	<!-- Meta tag Keywords -->
    {% load static %}
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8" />
	<meta name="keywords" content="Freight Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
	{% include 'headerfiles.html' %}
    <script>
		addEventListener("load", function () {
			setTimeout(hideURLbar, 0);
		}, false);

		function hideURLbar() {
			window.scrollTo(0, 1);
		}
	</script>
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Shifty - Transport & Logistics HTML Template</title>
    <!-- Plugins CSS -->
    <link href="{% static 'website/css/plugins.css' %}" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="{% static 'website/css/style.css' %}" rel="stylesheet">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'website/images/favicon.ico' %}">
    <!-- HTML5 shim and Respond.js' %} for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js' %} doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js' %}"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js' %}"></script>
    <![endif]-->
    <style>
        .error
        {
             color: red;
        }
        body {
            background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, .2)), url("{% static "images/x21.jpg" %}") fixed no-repeat center center/cover;
        }
        .inner-banner-w3ls
         {
             background: url('{% static 'images/x21.jpg' %}') ;
             background-repeat: no-repeat;
             background-size: cover;
             min-height: 400px;

         }
    #usermobilevalid ,#divverify{
            background: rgba(255,255,255,0.18);
            margin: 3.3em auto 3.5em;
            padding: 2.5em 1em;"
        }
        label
        {
            color: darkcyan;
            font-family: 'Ultra',cursive;
        }
    </style>
    <script>

        function hidediv() {
            document.getElementById("divverify").style.display = 'none';
        }
        function sendotp() {
            if ($('#usermobilevalid').valid())
            {
                var mobile = document.getElementById("mobile").value;
                var xmlhttp;
                xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (this.readyState == 4 & this.status == 200) {
                        var response = this.responseText.trim();
                        if (response == "success") {
                            document.getElementById("divverify").style.display = "block";
                        }
                    }
                };
                xmlhttp.open('GET', '/sendotp?mobile=' + mobile);
                xmlhttp.send()
            }
        }
        function verifyotp() {
            if ($('#divverify').valid()) {
                var otp = document.getElementById("otp").value;
                var mobile = document.getElementById("mobile").value;
                var xmlhttp;
                xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (this.readyState == 4 & this.status == 200) {
                        var response = this.responseText.trim();
                        if (response == "success") {
                            window.location.href = "usersignup1?mobile=" + mobile;
                        } else {
                            alert("otp doesn't matches");
                        }
                    }
                };
                xmlhttp.open('GET', '/verifyotp?otp=' + otp);
                xmlhttp.send();
            }
        }
    </script>
</head>
<body onload="hidediv()">
{% include 'indexnavbarpublic.html' %}
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-6 offset-sm-3">
{#            <center><img src="{% static "images/register.png" %}" ></center>#}
            <center><h1 style="color: white; background-color: darkcyan ;margin-top: 20px ;width: 50% ;">REGISTER NOW</h1></center>
            <form id="usermobilevalid">
                <div class="form-group">
                <label for="mobile">Enter Mobile</label>
                <input  type="text" data-rule-required="true" data-rule-number="true" minlength="10" maxlength="10" id="mobile" name="mobile" placeholder="Enter mobile" class="form-control">
                </div>
                <div class="form-group text-center">
                <button type="button" style="background-color: darkcyan;color: white" class="btn" onclick="sendotp()">Send OTP</button>
                </div>
            </form>
            <form id="divverify">
                <div class="form-group">
                    <label for="otp">Enter OTP</label>
                    <input type="text" id="otp" name="otp" data-rule-required="true" data-msg-required="Enter OTP" minlength="6" maxlength="6" data-rule-number="true" placeholder="Enter OTP" class="form-control">
                </div>
                <div class="form-group text-center">
                    <button type="button" style="background-color: darkcyan;color: white" class="btn" onclick="verifyotp()">Verify OTP</button>
                </div>
            </form>
        </div>
    </div>
</div>
	<!-- footer -->
	{% include "indexfooter.html" %}
	<!-- //footer -->
</body>

</html>